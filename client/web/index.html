<!DOCTYPE html>
<!--
Copyright (c) 2013, the Dart project authors.  Please see the AUTHORS file
for details. All rights reserved. Use of this source code is governed by a
BSD-style license that can be found in the LICENSE file.
-->
<html>
  <head>
    <meta charset="utf-8">
    <title>Dart API Reference</title>
    <link rel="stylesheet" type="text/css"
        href="static/styles.css">
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
    <link rel="shortcut icon" href="static/favicon.ico">

    <link rel="stylesheet" type="text/css" href="static/apidoc-styles.css" />
    <link rel="components" href="details.html">
    <link rel="components" href="doc_link.html">
    <link rel="components" href="element_summary.html">
    <link rel="components" href="search.html">
    <link rel="components" href="kind_icon.html">

    <!-- Initialize Google Analytics. -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(["_setAccount", "UA-26406144-9"]);
      _gaq.push(["_trackPageview"]);

      (function() {
        var ga = document.createElement("script");
        ga.type = "text/javascript"; ga.async = true;
        ga.src = ("https:" == document.location.protocol ?
          "https://ssl" : "http://www") + ".google-analytics.com/ga.js";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(ga, s);
      })();
    </script>

  </head>
  <body>
    <template instantiate="if currentElement == null || !currentElement.loading">
    <div class="page">
      <div class="header">
        <span class="header-location">
          <a href="http://dartlang.org" ref="external"><div class="logo"></div></a>
          <a href="#!">Dart API Reference</a>

          <template instantiate="if currentLibrary != null">
            <span>&gt; </span>
          <x-doc-link ref="{{currentLibrary}}"></x-doc-link>
          </template>

          <template instantiate="if currentType != null">
            <span>&gt; </span>
            <x-doc-link ref="{{currentType}}"></x-doc-link>
          </template>
        </span>

        <x-search></x-search>
      </div>

      <div class="nav">
        <template instantiate="if currentLibrary != null">
          <ul class="tree-list">
            <template iterate='clazz in currentLibrary.sortedChildren(showPrivate)'>
              <li class="{{kindCssClass(clazz)}}" data-id="{{clazz.id}}">
                <template instantiate="if currentType != clazz">
                  <x-doc-link ref="{{clazz}}"></x-doc-link>
                </template>
                <template instantiate="if currentType == clazz">
                  <span>{{clazz.shortDescription}}</span>
                  <ul class="tree-list">
                    <template iterate="member in clazz.sortedChildren(showPrivate, showInherited)">
                      <li class="{{kindCssClass(member)}}" data-id="{{member.id}}">
                        <a href="{{permalink(member)}}">{{member.shortDescription}}</a>
                      </li>
                    </template>
                  </ul>
                </template>
              </li>
            </template>
          </ul>
        </template>
      </div>

      <div class="content">
        <template if="currentLibrary == null">
          <h2>Dart API Reference</h2>
          <h3>Libraries</h3>
          <ul class="libraries tree-list">
            <template iterate='library in libraries.values'>
              <template instantiate="if !library.id.startsWith('package:')">
                <li class="{{kindCssClass(library)}}">
                  <x-doc-link ref="{{library}}"></x-doc-link>
                </li>
              </template>
            </template>
          </ul>
        </template>

        <template if="currentLibrary != null && currentLibrary.loading">
          <h1>Loading...</h1>
        </template>

        <template if="currentLibrary != null && !currentLibrary.loading">
          <div class="filters">
            <span>Show: </span>
            <input id="show_private" bind-checked="showPrivate" type="checkbox">
            <label for="show_private">Private</label>
            <input id="show_inherited" bind-checked="showInherited" type="checkbox">
            <label for="show_inherited">Inherited</label>
          </div>
        </template>

        <template instantiate="if currentLibrary != null && currentType == null">
          <div>
            <div><h2><strong>{{currentLibrary.shortDescription}}</strong> library</h2></div>

            <template instantiate="if !currentLibrary.loading">
              <div>
                <template instantiate="if currentLibrary.commentHtml != null">
                   <div>{{currentLibrary.commentHtml}}</div>
                </template>

                <x-member-blocks blocks="{{currentLibrary.childBlocks(showPrivate)}}">
                </x-member-blocks>
              </div>
            </template>
          </div>
        </template>

        <template instantiate="if currentType != null">
          <div>
            <h2 class="{{kindCssClass(currentType)}}"><strong>{{currentType.shortDescription}}</strong> {{currentType.kindDescription}}</h2>
            <template instantiate="if currentType != null">
              <div class="class-summary">
                <template instantiate="if currentType is ClassElement">
                  <h4>Hierarchy</h4>
                  <x-class-hierarchy clazz="{{currentType}}"></x-class-hierarchy>
                  <template instantiate="if !currentType.interfaces.isEmpty">
                    <h4>Implements</h4>
                    <ul class="tree-list">
                      <template iterate='interface in currentType.interfaces'>
                        <li>
                          <x-doc-link ref="{{interface}}"></x-doc-link>
                        </li>
                      </template>
                    </ul>
                  </template>
                </template>
                <h4>Source</h4>
                <template instantiate="if currentType.uri != null">
                  <a href="https://code.google.com/p/dart/source/browse/trunk/dart/{{currentType.uri}}?r={{package.revision}}#{{currentType.line}}" target="_blank">{{currentType.uri}}</a>
                </template>
              </div>
            </template>

            <template instantiate="if currentType.commentHtml != null">
              <div>{{currentType.commentHtml}}</div>
            </template>
          </div>
          <div class="subclasses-and-references">
            <template instantiate="if currentType is ClassElement && !currentType.subclasses.isEmpty">
              <x-details class="subclasses-block">
                <summary>
                  <h3>
                  <!-- TODO(jacobr): classes can be implemented even if they aren't abstract. -->
                  <template if="!currentType.isAbstract">
                    Subclasses
                  </template>
                  <template if="currentType.isAbstract">
                    Implementations
                  </template>
                  </h3>
                </summary>
                <x-summary-only>
                  <span class="subclasses">
                    <!-- TODO(jacobr): only add the first few subclasses-->
                    <template iterate='clazz in currentType.subclasses'>
                      <span>
                        <x-kind-icon element="{{clazz}}"></x-kind-icon>
                        <x-doc-link ref="{{clazz}}"></x-doc-link>
                      </span>
                    </template>
                  </span>
                </x-summary-only>
                <div class="subclasses">
                  <template iterate='clazz in currentType.subclasses'>
                    <div>
                      <x-kind-icon element="{{clazz}}"></x-kind-icon>
                      <x-doc-link ref="{{clazz}}"></x-doc-link></div>
                  </template>
                </div>
              </x-details>
            </template>
            <template instantiate="if !currentType.references.isEmpty">
              <x-details class="references-block">
                <summary>
                  <h3>References</h3>
                </summary>
                <x-summary-only>
                  <span class="references">
                  <template iterate='clazz in currentType.references'>
                    <template if="clazz is LibraryElement">
                      <span>
                        <x-kind-icon element="{{clazz}}"></x-kind-icon>
                        <x-long-doc-link ref="{{clazz}}"></x-long-doc-link>
                      </span>
                    </template>
                  </template>
                  </span>
                </x-summary-only>
                <div class="references">
                  <template iterate='clazz in currentType.references'>
                    <template if="clazz is LibraryElement">
                      <h4>
                        <x-kind-icon element="{{clazz}}"></x-kind-icon>
                        <x-doc-link ref="{{clazz}}"></x-doc-link>
                      </h4>
                    </template>
                    <template if="clazz is! LibraryElement">
                      <div>
                        <x-kind-icon element="{{clazz}}"></x-kind-icon>
                        <x-long-doc-link ref="{{clazz}}"></x-long-doc-link>
                      </div>
                    </template>
                  </template>
               </div>
             </x-details>
            </template>
          </div>

          <template instantiate="if currentType is ClassElement">
            <x-member-blocks blocks="{{currentType.childBlocks(showPrivate, showInherited)}}">
            </x-member-blocks>
          </template>
          <template if="currentType is TypedefElement">
            <h3>Definition</h3>
            <!-- TODO(jacobr): override default style and align this to the left -->
            <x-element-signature element="{{currentType}}">
            </x-element-signature>
          </template>
          <template if="currentType != null && currentType.mdnUrl != null">
            <p class="mdn-attribution">
              <a href="http://www.mozilla.org/">
                <!-- TODO(jacobr): we shouldn't have to include the .. -->
                <img src="../static/mdn-logo-tiny.png" class="mdn-logo" />
              </a>
              This page includes <a href="{{currentType.mdnUrl}}">content</a> from the
              <a href="http://www.mozilla.org/">Mozilla Foundation</a> that is graciously
              <a href="https://developer.mozilla.org/Project:Copyrights">licensed</a> under a
              <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons: Attribution-Sharealike license</a>.
              Mozilla has no other association with Dart or dartlang.org. We
              encourage you to improve the web by
              <a href="https://developer.mozilla.org/Project:en/How_to_Help">contributing</a> to
              <a href="http://developer.mozilla.org/">The Mozilla Developer Network</a>.
              </p>
           </template>
        </template>
      </div>
    </div>
    </template>
    <script type="application/dart">

import 'dart:uri' as uri;
import 'package:web_ui/watcher.dart' as watchers;
import 'package:api_doc/ast.dart';
import 'package:api_doc/model.dart';
import 'package:api_doc/resources.dart';

main() {
  loadStateFromUrl();
  loadModel().then((_) {
    watchers.dispatch();
  });
}
    </script>
  </body>
</html>
